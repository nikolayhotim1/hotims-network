(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{409:function(e,t,s){e.exports={messages:"ChatPage_messages__16n5R",message:"ChatPage_message__1-f9v"}},419:function(e,t,s){"use strict";s.r(t),s.d(t,"ChatPage",(function(){return d}));var n=s(16),a=s(2),c=s(0),r=s(409),j=s.n(r),u=s(3),i=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),b=function(e){var t=e.message;return Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{className:j.a.message,src:t.photo,alt:t.userName})," ",Object(u.jsx)("b",{children:t.userName}),Object(u.jsx)("br",{}),t.message,Object(u.jsx)("hr",{})]})},o=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),s=t[0],r=t[1];return Object(c.useEffect)((function(){i.addEventListener("message",(function(e){var t=JSON.parse(e.data);r((function(e){return[].concat(Object(n.a)(e),Object(n.a)(t))}))}))}),[]),Object(u.jsx)("div",{className:j.a.messages,children:s.map((function(e,t){return Object(u.jsx)(b,{message:e},t)}))})},O=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),s=t[0],n=t[1];return Object(u.jsx)("div",{children:Object(u.jsxs)("label",{children:[Object(u.jsx)("textarea",{onChange:function(e){return n(e.currentTarget.value)},value:s}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{type:"submit",onClick:function(){s&&(i.send(s),n(""))},children:"Send"})]})})},m=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(o,{}),Object(u.jsx)(O,{})]})},d=function(){return Object(u.jsx)(m,{})}}}]);
//# sourceMappingURL=6.819732da.chunk.js.map