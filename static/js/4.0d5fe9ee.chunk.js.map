{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/common/FormsControls/FormsControls.js","hoc/withAuthRedirect.js","assets/images/userPhoto.png","components/Profile/MyPosts/MyPosts.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPostsForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","FormsControl","meta","touched","error","children","hasError","className","style","formControl","Textarea","input","props","Input","createField","component","name","placeholder","validators","text","validate","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirectComponent","Component","RedirectComponent","this","to","React","connect","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","getUpdateStatus","ProfileInfo","profile","main_image","src","alt","avatar_with_descriptions","photos","large","userPhoto","descriptions","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Preloader","Post","item","message","likesCount","maxLength10","MyPostsForm","new_post","onSubmit","handleSubmit","Field","MyPostsReduxForm","reduxForm","form","MyPosts","postsElements","posts","map","p","id","my_posts","values","addPost","newPostText","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","profile_wrapper","ProfileContainer","userId","match","params","authorizedUserId","getUserProfile","getUserStatus","AuthRedirectComponent","compose","useMatch"],"mappings":"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","file":"static/js/4.0d5fe9ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__P0TRj\",\"error\":\"FormsControls_error__28RCb\",\"formSummaryError\":\"FormsControls_formSummaryError__1AxrH\"};","export const required = (value) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n};","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport style from './FormsControls.module.css';\r\n\r\nconst FormsControl = ({ meta: { touched, error }, children }) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={`${style.formControl} ${hasError ? style.error : ''}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const Textarea = ({ input, ...props }) => {\r\n    return (\r\n        <FormsControl {...props}>\r\n            <textarea {...input} {...props} />\r\n        </FormsControl>\r\n    );\r\n};\r\n\r\nexport const Input = ({ input, ...props }) => {\r\n    return (\r\n        <FormsControl {...props}>\r\n            <input {...input} {...props} />\r\n        </FormsControl>\r\n    );\r\n};\r\n\r\nexport const createField = (component, name, placeholder, validators, props = {}, text = '') => {\r\n    return (\r\n        <div>\r\n            <Field\r\n                component={component}\r\n                name={name}\r\n                placeholder={placeholder}\r\n                validate={validators}\r\n                {...props}\r\n            />{text}\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirectComponent = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to={'/login'} />;\r\n            return <Component {...this.props} />;\r\n        }\r\n    }\r\n\r\n    const ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedRedirectComponent;\r\n};","export default __webpack_public_path__ + \"static/media/userPhoto.81251c2b.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_posts\":\"MyPosts_my_posts__3KYz_\",\"posts\":\"MyPosts_posts__39fBP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar_with_descriptions\":\"ProfileInfo_avatar_with_descriptions__Thfx1\",\"descriptions\":\"ProfileInfo_descriptions__2cngn\",\"main_image\":\"ProfileInfo_main_image__1g6wJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1PgHr\"};","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.getUpdateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>\r\n                        {props.status || 'My status will be here'}\r\n                    </span>\r\n                </div>\r\n            }\r\n\r\n            {editMode &&\r\n                <div>\r\n                    <input\r\n                        onChange={onStatusChange}\r\n                        autoFocus={true}\r\n                        onBlur={deactivateEditMode}\r\n                        value={status}\r\n                    />\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport userPhoto from '../../../assets/images/userPhoto.png';\r\nimport style from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({ profile, status, getUpdateStatus }) => {\r\n    if (!profile) {\r\n        return <Preloader />;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={style.main_image}>\r\n                <img\r\n                    src='https://wallpaperaccess.com/full/2130425.jpg'\r\n                    alt='Savanna'\r\n                />\r\n            </div>\r\n\r\n            <div className={style.avatar_with_descriptions}>\r\n                <img\r\n                    src={profile.photos.large || userPhoto}\r\n                    alt='Zebra'\r\n                />\r\n\r\n                <div className={style.descriptions}>\r\n                    <h1>{profile.fullName}</h1>\r\n\r\n                    <ProfileStatusWithHooks\r\n                        status={status}\r\n                        getUpdateStatus={getUpdateStatus}\r\n                    />\r\n\r\n                    <p>Date of birth: 23.12.1992</p>\r\n                    <p>City of residence: Grodno, Belarus</p>\r\n                    <p>About me: {profile.aboutMe}</p>\r\n\r\n                    <p>Looking for a job: {profile.lookingForAJob\r\n                        ? profile.lookingForAJobDescription\r\n                        : 'not looking for'}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport style from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={style.item}>\r\n            <div>\r\n                {props.message}\r\n            </div>\r\n            \r\n            <img src=\"https://icatcare.org/app/uploads/2018/07/Thinking-of-getting-a-cat.png\"\r\n                alt=\"Cat\" />\r\n\r\n            <span>\r\n                Likes: {props.likesCount}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport { Field } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPostsForm = (props) => {\r\n    return (\r\n        <form\r\n            className={style.new_post}\r\n            onSubmit={props.handleSubmit}\r\n        >\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    name='newPostText'\r\n                    placeholder='New post'\r\n                    validate={[required, maxLength10]}\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default MyPostsForm;","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport style from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport MyPostsForm from './MyPostsForm';\r\n\r\nconst MyPostsReduxForm = reduxForm({ form: 'post' })(MyPostsForm);\r\n\r\nconst MyPosts = (props) => {\r\n    let postsElements = props.posts.map(\r\n        p => <Post message={p.message} likesCount={p.likesCount} key={p.id} />\r\n    );\r\n\r\n\r\n    let onAddPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={style.my_posts}>\r\n            <h2>My posts</h2>\r\n\r\n            <MyPostsReduxForm onSubmit={onAddPost} />\r\n\r\n            <div className={style.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/profileReduser';\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport style from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={style.profile_wrapper}>\r\n            <ProfileInfo\r\n                profile={props.profile}\r\n                status={props.status}\r\n                getUpdateStatus={props.getUpdateStatus}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useMatch } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirectComponent } from '../../hoc/withAuthRedirect';\r\nimport { getUserProfile, getUserStatus, getUpdateStatus } from '../../redux/profileReduser';\r\nimport Profile from './Profile';\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match ? this.props.match.params.userId : this.props.authorizedUserId;\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile\r\n                {...this.props}\r\n                profile={this.props.profile}\r\n                status={this.props.status}\r\n                getUpdateStatus={this.props.getUpdateStatus}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst AuthRedirectComponent = withAuthRedirectComponent(ProfileContainer);\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nconst ProfileUrlMatch = (props) => {\r\n    const match = useMatch('profile/:userId');\r\n    return <AuthRedirectComponent {...props} match={match} />;\r\n};\r\n\r\nexport default compose(connect(\r\n    mapStateToProps,\r\n    { getUserProfile, getUserStatus, getUpdateStatus }\r\n))(ProfileUrlMatch);"],"sourceRoot":""}