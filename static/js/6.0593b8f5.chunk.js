(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{412:function(e,t,c){e.exports={messages:"ChatPage_messages__16n5R",message:"ChatPage_message__1-f9v"}},422:function(e,t,c){"use strict";c.r(t),c.d(t,"ChatPage",(function(){return o}));var s=c(2),n=c(0),r=c(34),a=c(216),u=c(412),j=c.n(u),i=c(3),o=function(){return Object(i.jsx)(b,{})},b=function(){var e=Object(r.c)(),t=Object(r.d)((function(e){return e.chat.status}));return Object(n.useEffect)((function(){return e(Object(a.c)()),function(){e(Object(a.d)())}}),[e]),Object(i.jsxs)("div",{children:["error"===t&&Object(i.jsx)("div",{children:"Some error occured. Please refresh the page"}),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsx)(f,{})]})]})},l=function(){var e=Object(r.d)((function(e){return e.chat.messages})),t=Object(n.useRef)(null),c=Object(n.useState)(!0),a=Object(s.a)(c,2),u=a[0],o=a[1];return Object(n.useEffect)((function(){u&&setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),500)}),[u,e]),Object(n.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.scrollIntoView(!0)}),[e]),Object(i.jsxs)("div",{className:j.a.messages,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!u&&o(!0):u&&o(!1)},children:[e.map((function(e,t){return Object(i.jsx)(O,{message:e},e.id)})),Object(i.jsx)("div",{ref:t})]})},O=Object(n.memo)((function(e){var t=e.message;return Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{src:t.photo,alt:t.userName,className:j.a.message})," ",Object(i.jsx)("b",{children:t.userName}),Object(i.jsx)("br",{}),t.message,Object(i.jsx)("hr",{})]})})),f=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],u=t[1],j=Object(r.c)(),o=Object(r.d)((function(e){return e.chat.status}));return Object(i.jsxs)("label",{children:[Object(i.jsx)("textarea",{placeholder:"Message",onChange:function(e){return u(e.currentTarget.value)},value:c}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{type:"submit",disabled:"ready"!==o,onClick:function(){c&&(j(Object(a.b)(c)),u(""))},children:"Send"})]})}}}]);
//# sourceMappingURL=6.0593b8f5.chunk.js.map