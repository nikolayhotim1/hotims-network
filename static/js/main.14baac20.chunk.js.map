{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.tsx","components/Profile/MyPosts/MyPosts.module.css","utils/validators/validators.ts","redux/dialogsReducer.ts","assets/images/computer-user-icon.png","utils/helpers/objectHelper.ts","api/usersAPI.ts","redux/usersReducer.ts","components/Profile/ProfileInfo/ProfileStatusWithHooks.module.css","components/Profile/MyPosts/Post/Post.module.css","api/api.ts","redux/appReducer.ts","api/profileAPI.ts","redux/profileReducer.ts","redux/sidebarReducer.ts","redux/reduxStore.ts","redux/authSelectors.ts","components/Header/Header.tsx","assets/images/the-codefather.png","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","assets/images/the-codefather-2.png","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPostsForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","hocs/withRouter.tsx","App.tsx","index.tsx","components/common/FormsControls/FormsControls.tsx","components/Profile/ProfileInfo/ProfileInfo.module.css","api/securityAPI.ts","api/authAPI.ts","redux/authReducer.ts"],"names":["module","exports","Preloader","src","preloader","alt","required","value","maxLengthCreator","maxLength","length","initialState","dialogs","id","name","messages","message","actions","sendMessage","newMessageText","type","dialogsReduser","state","action","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","usersAPI","getNewFollowedUser","userId","instance","post","response","data","getNewUnfollowedUser","delete","getUsers","page","pageSize","term","friend","friendData","get","users","currentPage","filter","totalUsersCount","isFetching","followingInProgress","payload","_followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","follow","bind","unfollow","requestUsers","totalCount","usersReducer","followed","ResultCodesEnum","ResultCodeForCaptchaEnum","axios","create","withCredentials","baseURL","headers","initialized","appReduser","profileAPI","status","put","file","formData","FormData","append","profile","posts","likesCount","addPost","newPostText","deletePost","postId","setUserProfile","setUserStatus","savePhotoSuccess","photos","getUserProfile","profileReducer","p","sidebarReduser","rootReducer","combineReducers","profilePage","dialogsPage","dialogsReducer","sidebar","sidebarReducer","usersPage","auth","authReducer","form","formReducer","app","appReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","selectIsAuth","isAuth","selectCurrentUserLogin","login","selectCurrentUserId","Header","useSelector","userPhoto","navigate","useNavigate","useDispatch","Layout","className","span","theme","mode","defaultSelectedKeys","Item","to","icon","UserOutlined","onClick","style","color","logout","ProfileStatusWithHooks","props","useState","editMode","setEditMode","setStatus","useEffect","isOwner","placeholder","onChange","e","currentTarget","autoFocus","onBlur","getUpdateStatus","reduxForm","handleSubmit","error","info","onSubmit","createField","Input","Textarea","style2","formSummaryError","contacts","Object","keys","key","ProfileData","activateEditMode","fullName","item","aboutMe","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","main_image","mainImage","profile_wrapper","avatar","large","target","files","initialValues","then","Post","postImage","maxLength100","new_post","MyPosts","postsElements","my_posts","values","connect","Profile","MyPostsContainer","ProfileContainer","isShowMyProfile","userIdFromPath","this","router","params","authorisedUserId","getUserStatus","setState","Component","ProfileContainerCompose","location","useLocation","useParams","console","log","getState","Error","stopSubmit","_error","Promise","reject","SubMenu","Menu","Content","Footer","Sider","ChatPage","lazy","default","DialogsContainer","UsersPage","LoginPage","App","catchAllUnhandledErrors","reason","promise","initializeApp","addEventListener","removeEventListener","padding","margin","width","height","title","NotificationOutlined","LaptopOutlined","minHeight","fallback","path","element","pageTitle","textAlign","AppContainer","getAuthUserData","all","MainApp","ReactDOM","render","document","getElementById","FormsControl","meta","touched","children","hasError","formControl","input","component","validators","text","validate","securityAPI","authAPI","email","password","rememberMe","captcha","captchaURL","Success","CaptchaIsRequired","getCaptchaURL","url","authReduser"],"mappings":"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","file":"static/js/main.14baac20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__80KjQ\",\"error\":\"FormsControls_error__2lhvj\",\"formSummaryError\":\"FormsControls_formSummaryError__1HBrY\"};","export default __webpack_public_path__ + \"static/media/preloader.86e365cf.svg\";","import { FC } from 'react'\r\nimport preloader from './../../../assets/images/preloader.svg'\r\n\r\nconst Preloader: FC = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<img src={preloader} alt='Preloader' />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Preloader\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_posts\":\"MyPosts_my_posts__3fZVC\",\"posts\":\"MyPosts_posts__744TF\"};","export type FieldValidatorType = (value: string) => string | undefined\r\nexport const required: FieldValidatorType = (value) => {\r\n\tif (value) return undefined\r\n\treturn 'Field is required'\r\n}\r\nexport const maxLengthCreator =\r\n\t(maxLength: number): FieldValidatorType =>\r\n\t(value) => {\r\n\t\tif (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n\t\treturn undefined\r\n\t}\r\n","import { DialogType, MessageType } from './../types/types'\r\nimport { InferActionsTypes } from './reduxStore'\r\n\r\nconst initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, name: 'Andrey' },\r\n\t\t{ id: 2, name: 'Denis' },\r\n\t\t{ id: 3, name: 'Katya' }\r\n\t] as Array<DialogType>,\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Hi!' },\r\n\t\t{ id: 2, message: 'How are you?' },\r\n\t\t{ id: 3, message: 'Yo!' }\r\n\t] as Array<MessageType>\r\n}\r\nexport type InitialStateType = typeof initialState\r\nexport const actions = {\r\n\tsendMessage: (newMessageText: string) =>\r\n\t\t({\r\n\t\t\ttype: 'hotims-network/dialogsReduser/SEND-MESSAGE',\r\n\t\t\tnewMessageText\r\n\t\t} as const)\r\n}\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\nconst dialogsReduser = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'hotims-network/dialogsReduser/SEND-MESSAGE': {\r\n\t\t\treturn { ...state, messages: [...state.messages, { id: 4, message: action.newMessageText }] }\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport default dialogsReduser\r\n","export default \"data:image/png;base64,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\"","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\r\n\treturn items.map((u: any) => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn { ...u, ...newObjProps }\r\n\t\t}\r\n\t\treturn u\r\n\t})\r\n}\r\n","import { instance, GetItemsType, APIResponseType } from './api'\r\n\r\nexport const usersAPI = {\r\n\tasync getNewFollowedUser(userId: number) {\r\n\t\tconst response = await instance.post<APIResponseType>(`follow/${userId}`, {})\r\n\t\treturn response.data\r\n\t},\r\n\tasync getNewUnfollowedUser(userId: number) {\r\n\t\tconst response = await instance.delete(`follow/${userId}`)\r\n\t\treturn response.data as Promise<APIResponseType>\r\n\t},\r\n\tasync getUsers(page: number, pageSize: number, term: string = '', friend: null | boolean = null) {\r\n\t\tconst friendData = friend === null ? '' : `&friend=${friend}`\r\n\t\tconst response = await instance.get<GetItemsType>(`users?page=${page}&count=${pageSize}&term=${term}${friendData}`)\r\n\t\treturn response.data\r\n\t}\r\n}\r\n","import { APIResponseType } from './../api/api'\r\nimport { BaseThunkType, InferActionsTypes } from './reduxStore'\r\nimport { UserType } from '../types/types'\r\nimport { updateObjectInArray } from '../utils/helpers/objectHelper'\r\nimport { Dispatch } from 'redux'\r\nimport { usersAPI } from '../api/usersAPI'\r\n\r\nconst initialState = {\r\n\tusers: [] as Array<UserType>,\r\n\tpageSize: 10,\r\n\tcurrentPage: 1,\r\n\tfilter: {\r\n\t\tterm: '',\r\n\t\tfriend: null as null | boolean\r\n\t},\r\n\ttotalUsersCount: 0,\r\n\tisFetching: false,\r\n\tfollowingInProgress: [] as Array<number>\r\n}\r\nexport type InitialStateType = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\nexport const actions = {\r\n\tfollowSuccess: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n\tunfollowSuccess: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\r\n\tsetUsers: (users: Array<UserType>) => ({ type: 'SET_USERS', users } as const),\r\n\tsetCurrentPage: (currentPage: number) => ({ type: 'SET_CURRENT_PAGE', currentPage } as const),\r\n\tsetFilter: (filter: FilterType) => ({ type: 'SET_FILTER', payload: filter } as const),\r\n\tsetTotalUsersCount: (totalUsersCount: number) => ({ type: 'SET_TOTAL_USERS_COUNT', totalUsersCount } as const),\r\n\ttoggleIsFetching: (isFetching: boolean) => ({ type: 'TOGGLE_IS_FETCHING', isFetching } as const),\r\n\ttoggleIsFollowingProgress: (isFetching: boolean, userId: number) =>\r\n\t\t({ type: 'TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const)\r\n}\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'FOLLOW': {\r\n\t\t\treturn { ...state, users: updateObjectInArray(state.users, action.userId, 'id', { followed: true }) }\r\n\t\t}\r\n\t\tcase 'UNFOLLOW': {\r\n\t\t\treturn { ...state, users: updateObjectInArray(state.users, action.userId, 'id', { followed: false }) }\r\n\t\t}\r\n\t\tcase 'SET_USERS': {\r\n\t\t\treturn { ...state, users: action.users }\r\n\t\t}\r\n\t\tcase 'SET_CURRENT_PAGE': {\r\n\t\t\treturn { ...state, currentPage: action.currentPage }\r\n\t\t}\r\n\t\tcase 'SET_FILTER': {\r\n\t\t\treturn { ...state, filter: action.payload }\r\n\t\t}\r\n\t\tcase 'SET_TOTAL_USERS_COUNT': {\r\n\t\t\treturn { ...state, totalUsersCount: action.totalUsersCount }\r\n\t\t}\r\n\t\tcase 'TOGGLE_IS_FETCHING': {\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\t\t}\r\n\t\tcase 'TOGGLE_IS_FOLLOWING_PROGRESS': {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter((id) => id !== action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nconst _followUnfollowFlow = async (\r\n\tdispatch: Dispatch<ActionsTypes>,\r\n\tuserId: number,\r\n\tapiMethod: (userId: number) => Promise<APIResponseType>,\r\n\tactionCreator: (userId: number) => ActionsTypes\r\n) => {\r\n\tdispatch(actions.toggleIsFollowingProgress(true, userId))\r\n\tconst data = await apiMethod(userId)\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(actions.toggleIsFollowingProgress(false, userId))\r\n}\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\nexport const follow = (userId: number): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tawait _followUnfollowFlow(dispatch, userId, usersAPI.getNewFollowedUser.bind(userId), actions.followSuccess)\r\n\t}\r\n}\r\nexport const unfollow = (userId: number): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tawait _followUnfollowFlow(dispatch, userId, usersAPI.getNewUnfollowedUser.bind(userId), actions.unfollowSuccess)\r\n\t}\r\n}\r\nexport const requestUsers = (page: number, pageSize: number, filter: FilterType): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(actions.toggleIsFetching(true))\r\n\t\tdispatch(actions.setCurrentPage(page))\r\n\t\tdispatch(actions.setFilter(filter))\r\n\t\tconst data = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend)\r\n\t\tdispatch(actions.toggleIsFetching(false))\r\n\t\tdispatch(actions.setUsers(data.items))\r\n\t\tdispatch(actions.setTotalUsersCount(data.totalCount))\r\n\t}\r\n}\r\nexport default usersReducer\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatusWithHooks_status__CeiZW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__28jQv\"};","import { UserType } from './../types/types'\r\nimport axios from 'axios'\r\n\r\nexport const instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t'API-KEY': '7d7c0cc8-9365-47ef-8d77-ea42e5daa598'\r\n\t}\r\n})\r\nexport enum ResultCodesEnum {\r\n\tSuccess = 0,\r\n\tError = 1\r\n}\r\nexport enum ResultCodeForCaptchaEnum {\r\n\tCaptchaIsRequired = 10\r\n}\r\nexport type GetItemsType = {\r\n\titems: Array<UserType>\r\n\ttotalCount: number\r\n\terror: string | null\r\n}\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n\tdata: D\r\n\tresultCode: RC\r\n\tmessages: Array<string>\r\n}\r\n","import { InferActionsTypes } from './reduxStore'\r\nimport { getAuthUserData } from './authReducer'\r\n\r\nconst initialState = {\r\n\tinitialized: false\r\n}\r\ntype InitialStateType = typeof initialState\r\nconst actions = {\r\n\tinitializedSuccess: () => ({ type: 'hotims-network/appReduser/INITIALIZED_SUCCESS' } as const)\r\n}\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\nconst appReduser = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'hotims-network/appReduser/INITIALIZED_SUCCESS': {\r\n\t\t\treturn { ...state, initialized: true }\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\nexport const initializeApp = () => {\r\n\treturn (dispatch: any) => {\r\n\t\tconst promise = dispatch(getAuthUserData())\r\n\t\tPromise.all([promise]).then(() => {\r\n\t\t\tdispatch(actions.initializedSuccess())\r\n\t\t})\r\n\t}\r\n}\r\nexport default appReduser\r\n","import { PhotosType } from './../types/types'\r\nimport { ProfileType } from '../types/types'\r\nimport { instance, APIResponseType } from './api'\r\n\r\ntype SavePhotoResponseDataType = {\r\n\tphotos: PhotosType\r\n}\r\nexport const profileAPI = {\r\n\tasync getUserProfile(userId: number) {\r\n\t\tconst response = await instance.get<ProfileType>(`profile/${userId}`)\r\n\t\treturn response.data\r\n\t},\r\n\tasync getUserStatus(userId: number) {\r\n\t\tconst response = await instance.get<string>(`profile/status/${userId}`)\r\n\t\treturn response.data\r\n\t},\r\n\tasync getUpdateStatus(status: string) {\r\n\t\tconst response = await instance.put<APIResponseType>(`profile/status`, {\r\n\t\t\tstatus: status\r\n\t\t})\r\n\t\treturn response.data\r\n\t},\r\n\tasync savePhoto(file: File) {\r\n\t\tconst formData = new FormData()\r\n\t\tformData.append('image', file)\r\n\t\tconst response = await instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn response.data\r\n\t},\r\n\tasync saveProfile(profile: ProfileType) {\r\n\t\tconst response = await instance.put<APIResponseType>(`profile`, profile)\r\n\t\treturn response.data\r\n\t}\r\n}\r\n","import { BaseThunkType, InferActionsTypes } from './reduxStore'\r\nimport { PhotosType, PostType, ProfileType } from '../types/types'\r\nimport { FormAction, stopSubmit } from 'redux-form'\r\nimport { profileAPI } from '../api/profileAPI'\r\n\r\nconst initialState = {\r\n\tposts: [\r\n\t\t{ id: 1, message: \"It's my first post.\", likesCount: 15 },\r\n\t\t{ id: 2, message: 'Forza Juve!', likesCount: 30 }\r\n\t] as Array<PostType>,\r\n\tprofile: null as ProfileType | null,\r\n\tstatus: ''\r\n}\r\ntype InitialStateType = typeof initialState\r\nexport const actions = {\r\n\taddPost: (newPostText: string) => ({ type: 'hotims-network/profileReducer/ADD-POST', newPostText } as const),\r\n\tdeletePost: (postId: number) => ({ type: 'hotims-network/profileReducer/DELETE_POST', postId } as const),\r\n\tsetUserProfile: (profile: ProfileType) => ({ type: 'hotims-network/profileReducer/SET_USER_PROFILE', profile } as const),\r\n\tsetUserStatus: (status: string) => ({ type: 'hotims-network/profileReducer/SET_USER_STATUS', status } as const),\r\n\tsavePhotoSuccess: (photos: PhotosType) => ({ type: 'hotims-network/profileReducer/SAVE_PHOTO_SUCCESS', photos } as const)\r\n}\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'hotims-network/profileReducer/ADD-POST': {\r\n\t\t\treturn { ...state, posts: [...state.posts, { id: 3, message: action.newPostText, likesCount: 0 }] }\r\n\t\t}\r\n\t\tcase 'hotims-network/profileReducer/DELETE_POST': {\r\n\t\t\treturn { ...state, posts: state.posts.filter((p) => p.id !== action.postId) }\r\n\t\t}\r\n\t\tcase 'hotims-network/profileReducer/SET_USER_PROFILE': {\r\n\t\t\treturn { ...state, profile: action.profile }\r\n\t\t}\r\n\t\tcase 'hotims-network/profileReducer/SET_USER_STATUS': {\r\n\t\t\treturn { ...state, status: action.status }\r\n\t\t}\r\n\t\tcase 'hotims-network/profileReducer/SAVE_PHOTO_SUCCESS': {\r\n\t\t\treturn { ...state, profile: { ...state.profile, photos: action.photos } as ProfileType }\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\nexport const getUserProfile = (userId: number): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await profileAPI.getUserProfile(userId)\r\n\t\tdispatch(actions.setUserProfile(data))\r\n\t}\r\n}\r\nexport const getUserStatus = (userId: number): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await profileAPI.getUserStatus(userId)\r\n\t\tdispatch(actions.setUserStatus(data))\r\n\t}\r\n}\r\nexport const getUpdateStatus = (status: string): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\ttry {\r\n\t\t\tconst data = await profileAPI.getUpdateStatus(status)\r\n\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\tdispatch(actions.setUserStatus(status))\r\n\t\t\t}\r\n\t\t} catch (error: any) {\r\n\t\t\tconsole.log(error.message)\r\n\t\t}\r\n\t}\r\n}\r\nexport const savePhoto = (file: File): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await profileAPI.savePhoto(file)\r\n\t\tif (data.resultCode === 0) {\r\n\t\t\tdispatch(actions.savePhotoSuccess(data.data.photos))\r\n\t\t}\r\n\t}\r\n}\r\nexport const saveProfile = (profile: ProfileType): ThunkType => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst userId = getState().auth.id\r\n\t\tconst data = await profileAPI.saveProfile(profile)\r\n\t\tif (data.resultCode === 0) {\r\n\t\t\tif (userId !== null) {\r\n\t\t\t\tdispatch(getUserProfile(userId))\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(\"userId can't be null\")\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdispatch(stopSubmit('editProfile', { _error: data.messages[0] }))\r\n\t\t\treturn Promise.reject(data.messages[0])\r\n\t\t}\r\n\t}\r\n}\r\nexport default profileReducer\r\n","const initialState = {}\r\ntype InitialStateType = typeof initialState\r\nconst sidebarReduser = (state = initialState): InitialStateType => {\r\n\treturn state\r\n}\r\nexport default sidebarReduser\r\n","import { Action, applyMiddleware, combineReducers, compose, createStore } from 'redux'\r\nimport authReducer from './authReducer'\r\nimport dialogsReducer from './dialogsReducer'\r\nimport profileReducer from './profileReducer'\r\nimport sidebarReducer from './sidebarReducer'\r\nimport usersReducer from './usersReducer'\r\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './appReducer'\r\n\r\nconst rootReducer = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tsidebar: sidebarReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n})\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\nexport default store\r\n","import { AppStateType } from './reduxStore'\r\n\r\nexport const selectIsAuth = (state: AppStateType) => {\r\n\treturn state.auth.isAuth\r\n}\r\nexport const selectCurrentUserLogin = (state: AppStateType) => {\r\n\treturn state.auth.login\r\n}\r\nexport const selectCurrentUserId = (state: AppStateType) => {\r\n\treturn state.auth.id\r\n}\r\n","import { Avatar, Button, Col, Layout, Menu, Row } from 'antd'\r\nimport { UserOutlined } from '@ant-design/icons'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { selectCurrentUserId, selectCurrentUserLogin, selectIsAuth } from '../../redux/authSelectors'\r\nimport { logout } from '../../redux/authReducer'\r\nimport { FC } from 'react'\r\nimport { NavLink, useNavigate } from 'react-router-dom'\r\n\r\nexport const Header: FC = () => {\r\n\tconst isAuth = useSelector(selectIsAuth)\r\n\tconst login = useSelector(selectCurrentUserLogin)\r\n\tconst id = useSelector(selectCurrentUserId)\r\n\tconst userPhoto = `https://social-network.samuraijs.com/activecontent/images/users/${id}/user-small.jpg`\r\n\tconst navigate = useNavigate()\r\n\tconst dispatch = useDispatch()\r\n\tconst logoutCallback = () => {\r\n\t\tdispatch(logout())\r\n\t}\r\n\tconst { Header } = Layout\r\n\treturn (\r\n\t\t<Header className='header'>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col span={18}>\r\n\t\t\t\t\t<Menu theme='dark' mode='horizontal' defaultSelectedKeys={['2']}>\r\n\t\t\t\t\t\t<Menu.Item key='1'>\r\n\t\t\t\t\t\t\t<NavLink to='/users'>Developers</NavLink>\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t</Col>\r\n\t\t\t\t{isAuth ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Col span={1}>\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsrc={userPhoto}\r\n\t\t\t\t\t\t\t\talt={login || ''}\r\n\t\t\t\t\t\t\t\ticon={<UserOutlined />}\r\n\t\t\t\t\t\t\t\tonClick={() => navigate('/profile')}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={3} style={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t{login || ''}\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={2}>\r\n\t\t\t\t\t\t\t<Button onClick={logoutCallback}>Log out</Button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<NavLink to={'/login'}>Login</NavLink>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t)}\r\n\t\t\t</Row>\r\n\t\t</Header>\r\n\t)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/the-codefather.46d5a7a9.png\";","import { ChangeEvent, FC, useEffect, useState } from 'react'\r\nimport style from './ProfileStatusWithHooks.module.css'\r\n\r\ntype PropsType = {\r\n\tstatus: string\r\n\tisOwner: boolean\r\n\tgetUpdateStatus: (status: string) => void\r\n}\r\nconst ProfileStatusWithHooks: FC<PropsType> = (props) => {\r\n\tconst [editMode, setEditMode] = useState(false)\r\n\tconst [status, setStatus] = useState(props.status)\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.status)\r\n\t}, [props.status])\r\n\tconst activateEditMode = () => {\r\n\t\tprops.isOwner && setEditMode(true)\r\n\t}\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false)\r\n\t\tprops.getUpdateStatus(status)\r\n\t}\r\n\tconst onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tsetStatus(e.currentTarget.value)\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{!editMode && (\r\n\t\t\t\t<div className={style.status} onClick={activateEditMode}>\r\n\t\t\t\t\t<i>{props.status || 'My status will be here'}</i>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{editMode && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tplaceholder='My status'\r\n\t\t\t\t\t\tonChange={onStatusChange}\r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default ProfileStatusWithHooks\r\n","import { FC } from 'react'\r\nimport { InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { createField, GetStringKeys, Input, Textarea } from '../../common/FormsControls/FormsControls'\r\nimport style from './ProfileInfo.module.css'\r\nimport style2 from '../../common/FormsControls/FormsControls.module.css'\r\nimport { ProfileType } from '../../../types/types'\r\n\r\ntype PropsType = {\r\n\tprofile: ProfileType\r\n}\r\ntype ProfileDataFormValuesTypeKeys = GetStringKeys<ProfileType>\r\nconst ProfileDataForm: FC<InjectedFormProps<ProfileType, PropsType> & PropsType> = ({ handleSubmit, profile, error }) => {\r\n\treturn (\r\n\t\t<form className={style.info} onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<h1>{createField(Input, 'fullName', 'Full Name', [])}</h1>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>About me:</b> {createField<ProfileDataFormValuesTypeKeys>(Textarea, 'aboutMe', 'About me', [])}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>Looking for a job:</b>{' '}\r\n\t\t\t\t\t{createField<ProfileDataFormValuesTypeKeys>(Input, 'lookingForAJob', '', [], { type: 'checkbox' })}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<b>My skills:</b>{' '}\r\n\t\t\t\t\t{createField<ProfileDataFormValuesTypeKeys>(\r\n\t\t\t\t\t\tTextarea,\r\n\t\t\t\t\t\t'lookingForAJobDescription',\r\n\t\t\t\t\t\t'My professional skills',\r\n\t\t\t\t\t\t[]\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button type='submit'>Save</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{error && <div className={style2.formSummaryError}>{error}</div>}\r\n\t\t\t</div>\r\n\t\t\t<div className={style.contacts}>\r\n\t\t\t\t<h2>My Contacts:</h2>\r\n\t\t\t\t{Object.keys(profile.contacts).map((key) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={key}>\r\n\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t{key}: {createField(Input, `contacts.${key}`, key, [])}\r\n\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\nexport default reduxForm<ProfileType, PropsType>({ form: 'editProfile' })(ProfileDataForm)\r\n","import { ChangeEvent, FC, useState } from 'react'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport userPhoto from '../../../assets/images/computer-user-icon.png'\r\nimport mainImage from '../../../assets/images/the-codefather.png'\r\nimport style from './ProfileInfo.module.css'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\nimport ProfileDataForm from './ProfileDataForm'\r\nimport { ContactsType, ProfileType } from '../../../types/types'\r\n\r\ntype ProfileInfoPropsType = {\r\n\tisOwner: boolean\r\n\tprofile: ProfileType | null\r\n\tstatus: string\r\n\tgetUpdateStatus: (status: string) => void\r\n\tsavePhoto: (file: File) => void\r\n\tsaveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\nconst ProfileInfo: FC<ProfileInfoPropsType> = ({ isOwner, profile, status, getUpdateStatus, savePhoto, saveProfile }) => {\r\n\tconst [editMode, setEditMode] = useState(false)\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true)\r\n\t}\r\n\tif (!profile) {\r\n\t\treturn <Preloader />\r\n\t}\r\n\tconst onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tif (e.target.files?.length) {\r\n\t\t\tsavePhoto(e.target.files[0])\r\n\t\t}\r\n\t}\r\n\tconst onSubmit = (formData: ProfileType) => {\r\n\t\tsaveProfile(formData).then(() => {\r\n\t\t\tsetEditMode(false)\r\n\t\t})\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={style.main_image}>\r\n\t\t\t\t<img src={mainImage} alt='Main Cover' />\r\n\t\t\t</div>\r\n\t\t\t<div className={style.profile_wrapper}>\r\n\t\t\t\t<div className={style.avatar}>\r\n\t\t\t\t\t<img src={profile.photos.large || userPhoto} alt='profile-avatar' />\r\n\t\t\t\t\t<div>{isOwner && <input type='file' onChange={onMainPhotoSelected} placeholder='My photo' />}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{editMode ? (\r\n\t\t\t\t\t<ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ProfileData\r\n\t\t\t\t\t\tisOwner={isOwner}\r\n\t\t\t\t\t\tprofile={profile}\r\n\t\t\t\t\t\tstatus={status}\r\n\t\t\t\t\t\tgetUpdateStatus={getUpdateStatus}\r\n\t\t\t\t\t\tactivateEditMode={activateEditMode}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\ntype ProfileDataPropsType = {\r\n\tisOwner: boolean\r\n\tprofile: ProfileType\r\n\tstatus: string\r\n\tgetUpdateStatus: (status: string) => void\r\n\tactivateEditMode: () => void\r\n}\r\nconst ProfileData: FC<ProfileDataPropsType> = ({ isOwner, profile, status, getUpdateStatus, activateEditMode }) => {\r\n\treturn (\r\n\t\t<div className={style.info}>\r\n\t\t\t<div>\r\n\t\t\t\t<h1>{profile.fullName}</h1>\r\n\t\t\t\t<ProfileStatusWithHooks isOwner={isOwner} status={status} getUpdateStatus={getUpdateStatus} />\r\n\t\t\t\t<div className={style.item}>\r\n\t\t\t\t\t<b>About me:</b> {profile.aboutMe}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={style.item}>\r\n\t\t\t\t\t<b>Looking for a job:</b> {profile.lookingForAJob ? 'Yes' : 'No'}\r\n\t\t\t\t</div>\r\n\t\t\t\t{profile.lookingForAJob && (\r\n\t\t\t\t\t<div className={style.item}>\r\n\t\t\t\t\t\t<b>My skills:</b> {profile.lookingForAJobDescription}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t{isOwner && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button type='submit' onClick={activateEditMode}>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className={style.contacts}>\r\n\t\t\t\t<h2>My Contacts:</h2>\r\n\t\t\t\t{Object.keys(profile.contacts).map((key) => {\r\n\t\t\t\t\treturn <Contact key={key} contactTitle={key} contactValue={profile.contacts[key as keyof ContactsType]} />\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\ntype ContactPropsType = {\r\n\tcontactTitle: string\r\n\tcontactValue: string\r\n}\r\nconst Contact: FC<ContactPropsType> = ({ contactTitle, contactValue }) => {\r\n\treturn (\r\n\t\t<div className={style.item}>\r\n\t\t\t<b>{contactTitle}:</b> {contactValue}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default ProfileInfo\r\n","export default __webpack_public_path__ + \"static/media/the-codefather-2.94b97c11.png\";","import style from './Post.module.css'\r\nimport postImage from '../../../../assets/images/the-codefather-2.png'\r\nimport { FC } from 'react'\r\n\r\ntype PropsType = {\r\n\tmessage: string\r\n\tlikesCount: number\r\n}\r\nconst Post: FC<PropsType> = (props) => {\r\n\treturn (\r\n\t\t<div className={style.item}>\r\n\t\t\t<div>{props.message}</div>\r\n\t\t\t<img src={postImage} alt='Post Cover' />\r\n\t\t\t<span>Likes: {props.likesCount}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Post\r\n","import style from './MyPosts.module.css'\r\nimport { InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { maxLengthCreator, required } from '../../../utils/validators/validators'\r\nimport { createField, GetStringKeys, Textarea } from '../../common/FormsControls/FormsControls'\r\nimport { FC } from 'react'\r\n\r\ntype PropsType = {}\r\nexport type MyPostsFormValuesType = {\r\n\tnewPostText: string\r\n}\r\ntype MyPostsFormValuesTypeKeys = GetStringKeys<MyPostsFormValuesType>\r\nconst maxLength100 = maxLengthCreator(100)\r\nconst MyPostsForm: FC<InjectedFormProps<MyPostsFormValuesType, PropsType> & PropsType> = (props) => {\r\n\treturn (\r\n\t\t<form className={style.new_post} onSubmit={props.handleSubmit}>\r\n\t\t\t<div>{createField<MyPostsFormValuesTypeKeys>(Textarea, 'newPostText', 'New post', [required, maxLength100])}</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>Add post</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\nexport default reduxForm<MyPostsFormValuesType, PropsType>({ form: 'post' })(MyPostsForm)\r\n","import style from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport { FC } from 'react'\r\nimport { PostType } from '../../../types/types'\r\nimport MyPostsForm, { MyPostsFormValuesType } from './MyPostsForm'\r\n\r\nexport type MapPropsType = {\r\n\tposts: Array<PostType>\r\n}\r\nexport type DispatchPropsType = {\r\n\taddPost: (newPostText: string) => void\r\n}\r\nconst MyPosts: FC<MapPropsType & DispatchPropsType> = (props) => {\r\n\tconst postsElements = props.posts.map((p) => <Post key={p.id} message={p.message} likesCount={p.likesCount} />)\r\n\tconst onAddPost = (values: MyPostsFormValuesType) => {\r\n\t\tprops.addPost(values.newPostText)\r\n\t}\r\n\treturn (\r\n\t\t<div className={style.my_posts}>\r\n\t\t\t<h2>My Posts</h2>\r\n\t\t\t<MyPostsForm onSubmit={onAddPost} />\r\n\t\t\t<div className={style.posts}>{postsElements}</div>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default MyPosts\r\n","import { connect } from 'react-redux'\r\nimport { actions } from '../../../redux/profileReducer'\r\nimport { AppStateType } from '../../../redux/reduxStore'\r\nimport MyPosts, { DispatchPropsType, MapPropsType } from './MyPosts'\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n\treturn {\r\n\t\tposts: state.profilePage.posts\r\n\t}\r\n}\r\nexport default connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, { addPost: actions.addPost })(MyPosts)\r\n","import style from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport { FC } from 'react'\r\nimport { ProfileType } from '../../types/types'\r\n\r\ntype PropsType = {\r\n\tisOwner: boolean\r\n\tprofile: ProfileType | null\r\n\tstatus: string\r\n\tgetUpdateStatus: (status: string) => void\r\n\tsavePhoto: (file: File) => void\r\n\tsaveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\nconst Profile: FC<PropsType> = (props) => {\r\n\treturn (\r\n\t\t<div className={style.profile_wrapper}>\r\n\t\t\t<ProfileInfo\r\n\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tstatus={props.status}\r\n\t\t\t\tgetUpdateStatus={props.getUpdateStatus}\r\n\t\t\t\tsavePhoto={props.savePhoto}\r\n\t\t\t\tsaveProfile={props.saveProfile}\r\n\t\t\t/>\r\n\t\t\t<MyPostsContainer />\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default Profile\r\n","import Profile from './Profile'\r\nimport { connect } from 'react-redux'\r\nimport { getUserStatus, getUserProfile, savePhoto, saveProfile, getUpdateStatus } from '../../redux/profileReducer'\r\nimport { compose } from 'redux'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { AppStateType } from '../../redux/reduxStore'\r\nimport { ProfileType } from '../../types/types'\r\nimport { Component, ComponentType } from 'react'\r\nimport { withRouter } from '../../hocs/withRouter'\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n\trouter: any\r\n\tprofile: ProfileType | null\r\n\tgetUserProfile: (userId: number) => void\r\n\tgetUserStatus: (userId: number) => void\r\n\tgetUpdateStatus: (status: string) => void\r\n\tsavePhoto: (photoFile: File) => void\r\n\tsaveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\ntype PropsType = MapPropsType & DispatchPropsType\r\ntype LocalStateType = { isShowMyProfile: boolean }\r\nclass ProfileContainer extends Component<PropsType, LocalStateType> {\r\n\tconstructor(props: PropsType) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tisShowMyProfile: true\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst userIdFromPath = +this.props.router.params.userId\r\n\t\tconst authorisedUserId = this.props.authorisedUserId\r\n\t\tif (userIdFromPath) {\r\n\t\t\tthis.props.getUserProfile(userIdFromPath)\r\n\t\t\tthis.props.getUserStatus(userIdFromPath)\r\n\t\t} else {\r\n\t\t\tif (this.props.isAuth && authorisedUserId) {\r\n\t\t\t\tthis.props.getUserProfile(authorisedUserId)\r\n\t\t\t\tthis.props.getUserStatus(authorisedUserId)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tconst userIdFromPath = +this.props.router.params.userId\r\n\t\tconst authorisedUserId = this.props.authorisedUserId\r\n\t\tconst isShowMyProfile = this.state.isShowMyProfile\r\n\t\tif (isShowMyProfile) {\r\n\t\t\tif (userIdFromPath === authorisedUserId) this.setState({ isShowMyProfile: false })\r\n\t\t\tif (!userIdFromPath && this.props.isAuth && authorisedUserId) {\r\n\t\t\t\tthis.props.getUserProfile(authorisedUserId)\r\n\t\t\t\tthis.props.getUserStatus(authorisedUserId)\r\n\t\t\t\tthis.setState({ isShowMyProfile: false })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tif (!this.props.isAuth && !this.props.router.params.userId) return <Navigate to={'/login'} />\r\n\t\tconst userIdFromPath = +this.props.router.params.userId\r\n\t\tconst authorisedUserId = this.props.authorisedUserId\r\n\t\tlet isOwner = false\r\n\t\tif (!userIdFromPath && this.props.isAuth) isOwner = true\r\n\t\telse if (userIdFromPath === authorisedUserId) isOwner = true\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Profile\r\n\t\t\t\t\tprofile={this.props.profile}\r\n\t\t\t\t\tstatus={this.props.status}\r\n\t\t\t\t\tgetUpdateStatus={this.props.getUpdateStatus}\r\n\t\t\t\t\tisOwner={isOwner}\r\n\t\t\t\t\tsavePhoto={this.props.savePhoto}\r\n\t\t\t\t\tsaveProfile={this.props.saveProfile}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = (state: AppStateType) => {\r\n\treturn {\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tstatus: state.profilePage.status,\r\n\t\tauthorisedUserId: state.auth.id,\r\n\t\tisAuth: state.auth.isAuth\r\n\t}\r\n}\r\nconst ProfileContainerCompose = compose<ComponentType>(\r\n\twithRouter,\r\n\tconnect(mapStateToProps, { getUserProfile, getUserStatus, getUpdateStatus, savePhoto, saveProfile })\r\n)(ProfileContainer)\r\nexport default ProfileContainerCompose\r\n","import { FC } from 'react'\r\nimport { useLocation, useNavigate, useParams } from 'react-router'\r\n\r\nexport function withRouter(Component: FC) {\r\n\tfunction ComponentWithRouterProp(props: any) {\r\n\t\tconst location = useLocation()\r\n\t\tconst navigate = useNavigate()\r\n\t\tconst params = useParams()\r\n\t\treturn <Component {...props} router={{ location, navigate, params }} />\r\n\t}\r\n\treturn ComponentWithRouterProp\r\n}\r\n","import { Component, FC, lazy, Suspense } from 'react'\r\nimport { Route, Routes, Navigate } from 'react-router'\r\nimport './App.css'\r\nimport { connect } from 'react-redux'\r\nimport { initializeApp } from './redux/appReducer'\r\nimport Preloader from './components/common/Preloader/Preloader'\r\nimport store, { AppStateType } from './redux/reduxStore'\r\nimport { HashRouter } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport 'antd/dist/reset.css'\r\nimport { LaptopOutlined, NotificationOutlined, UserOutlined } from '@ant-design/icons'\r\nimport { Breadcrumb, Layout, Menu } from 'antd'\r\nimport { Header } from './components/Header/Header'\r\nimport { NavLink } from 'react-router-dom'\r\nimport ProfileContainer from './components/Profile/ProfileContainer'\r\n\r\nconst { SubMenu } = Menu\r\nconst { Content, Footer, Sider } = Layout\r\nconst ChatPage = lazy(() => import('./pages/ChatPage/ChatPage').then(module => ({ default: module.ChatPage })))\r\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst UsersPage = lazy(() => import('./components/Users/UsersPage').then(module => ({ default: module.UsersPage })))\r\nconst LoginPage = lazy(() => import('./components/Login/LoginPage').then(module => ({ default: module.LoginPage })))\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n\tinitializeApp: () => void\r\n}\r\nclass App extends Component<MapPropsType & DispatchPropsType> {\r\n\tcatchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n\t\tconsole.log(`Some error occured: ${e.reason}, ${e.promise}`)\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp()\r\n\t\twindow.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n\t}\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n\t}\r\n\trender() {\r\n\t\tif (!this.props.initialized) return <Preloader />\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<Content style={{ padding: '0 50px' }}>\r\n\t\t\t\t\t<Breadcrumb style={{ margin: '16px 0' }}>\r\n\t\t\t\t\t\t<Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<NavLink to='/profile'>My Page</NavLink>\r\n\t\t\t\t\t\t</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<NavLink to='/chat'>Chat</NavLink>\r\n\t\t\t\t\t\t</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<NavLink to='/dialogs'>Messages</NavLink>\r\n\t\t\t\t\t\t</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<NavLink to='/users'>Developers</NavLink>\r\n\t\t\t\t\t\t</Breadcrumb.Item>\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t<Layout className='site-layout-background' style={{ padding: '24px 0' }}>\r\n\t\t\t\t\t\t<Sider className='site-layout-background' width={200}>\r\n\t\t\t\t\t\t\t<Menu mode='inline' style={{ height: '100%' }}>\r\n\t\t\t\t\t\t\t\t<SubMenu key='sub1' icon={<UserOutlined />} title='Profile'>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key='1'>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink to='/profile'>My Page</NavLink>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t<SubMenu key='sub2' icon={<NotificationOutlined />} title='Dialogs'>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key='2'>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink to='/chat'>Chat</NavLink>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key='3'>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink to='/dialogs'>Messages</NavLink>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t<SubMenu key='sub3' icon={<LaptopOutlined />} title='Users'>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item key='4'>\r\n\t\t\t\t\t\t\t\t\t\t<NavLink to='/users'>Developers</NavLink>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</Sider>\r\n\t\t\t\t\t\t<Content style={{ padding: '0 24px', minHeight: 280 }}>\r\n\t\t\t\t\t\t\t<Suspense fallback={<Preloader />}>\r\n\t\t\t\t\t\t\t\t<Routes>\r\n\t\t\t\t\t\t\t\t\t<Route path='/profile' element={<ProfileContainer />}>\r\n\t\t\t\t\t\t\t\t\t\t<Route path='/profile/:userId' element={<ProfileContainer />} />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route path='/chat' element={<ChatPage />} />\r\n\t\t\t\t\t\t\t\t\t<Route path='/dialogs' element={<DialogsContainer />} />\r\n\t\t\t\t\t\t\t\t\t<Route path='/users' element={<UsersPage pageTitle={'Find Developers'} />} />\r\n\t\t\t\t\t\t\t\t\t<Route path='/login' element={<LoginPage />} />\r\n\t\t\t\t\t\t\t\t\t<Route path='/' element={<Navigate to='/profile' />} />\r\n\t\t\t\t\t\t\t\t\t<Route path='/*' element={<div className='not-found'>404 NOT FOUND</div>} />\r\n\t\t\t\t\t\t\t\t</Routes>\r\n\t\t\t\t\t\t\t</Suspense>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</Content>\r\n\t\t\t\t<Footer style={{ textAlign: 'center' }}>Hotims Network ©2023 Created by Nikolay Hotim</Footer>\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t}\r\n}\r\nconst mapStateToProps = (state: AppStateType) => ({ initialized: state.app.initialized })\r\nconst AppContainer = connect(mapStateToProps, { initializeApp })(App)\r\nconst MainApp: FC = () => {\r\n\treturn (\r\n\t\t<HashRouter>\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<AppContainer />\r\n\t\t\t</Provider>\r\n\t\t</HashRouter>\r\n\t)\r\n}\r\nexport default MainApp\r\n","import ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport MainApp from './App'\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'))\r\n","import { FieldValidatorType } from '../../../utils/validators/validators'\r\nimport { FC, ReactNode } from 'react'\r\nimport { Field, WrappedFieldMetaProps, WrappedFieldProps } from 'redux-form'\r\nimport style from './FormsControls.module.css'\r\n\r\ntype FormsControlPropsType = {\r\n\tmeta: WrappedFieldMetaProps\r\n\tchildren: ReactNode\r\n}\r\nconst FormsControl: FC<FormsControlPropsType> = ({ meta: { touched, error }, children }) => {\r\n\tconst hasError = touched && error\r\n\treturn (\r\n\t\t<div className={`${style.formControl} ${hasError ? style.error : ''}`}>\r\n\t\t\t<div>{children}</div>\r\n\t\t\t{hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport const Textarea: FC<WrappedFieldProps> = ({ input, ...props }) => {\r\n\treturn (\r\n\t\t<FormsControl {...props}>\r\n\t\t\t<textarea {...input} {...props} />\r\n\t\t</FormsControl>\r\n\t)\r\n}\r\nexport const Input: FC<WrappedFieldProps> = ({ input, ...props }) => {\r\n\treturn (\r\n\t\t<FormsControl {...props}>\r\n\t\t\t<input {...input} {...props} />\r\n\t\t</FormsControl>\r\n\t)\r\n}\r\nexport function createField<FormKeysType extends string>(\r\n\tcomponent: FC<WrappedFieldProps>,\r\n\tname: FormKeysType,\r\n\tplaceholder: string | null,\r\n\tvalidators: Array<FieldValidatorType>,\r\n\tprops = {},\r\n\ttext = ''\r\n) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Field component={component} name={name} placeholder={placeholder} validate={validators} {...props} />\r\n\t\t\t{text}\r\n\t\t</div>\r\n\t)\r\n}\r\nexport type GetStringKeys<T> = Extract<keyof T, string>\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_image\":\"ProfileInfo_main_image__rUbMJ\",\"profile_wrapper\":\"ProfileInfo_profile_wrapper__3SDP3\",\"avatar\":\"ProfileInfo_avatar__3tYYy\",\"info\":\"ProfileInfo_info__3qaNo\",\"contacts\":\"ProfileInfo_contacts__2ng_-\",\"item\":\"ProfileInfo_item__3Rs7O\"};","import { instance } from './api'\r\n\r\ntype GetCaptchaURLResponseType = {\r\n\turl: string\r\n}\r\nexport const securityAPI = {\r\n\tasync getCaptchaURL() {\r\n\t\tconst response = await instance.get<GetCaptchaURLResponseType>(`security/get-captcha-url`)\r\n\t\treturn response.data\r\n\t}\r\n}\r\n","import { instance, APIResponseType, ResultCodeForCaptchaEnum, ResultCodesEnum } from './api'\r\n\r\ntype GetAuthUserResponseDataType = {\r\n\tid: number\r\n\temail: string\r\n\tlogin: string\r\n}\r\ntype LoginResponseDataType = {\r\n\tuserId: number\r\n}\r\nexport const authAPI = {\r\n\tasync getAuthUserData() {\r\n\t\tconst response = await instance.get<APIResponseType<GetAuthUserResponseDataType>>(`auth/me`)\r\n\t\treturn response.data\r\n\t},\r\n\tasync login(email: string | null, password: string | null, rememberMe = false, captcha: string | null = null) {\r\n\t\tconst response = await instance.post<APIResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCaptchaEnum>>(\r\n\t\t\t`auth/login`,\r\n\t\t\t{\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\trememberMe,\r\n\t\t\t\tcaptcha\r\n\t\t\t}\r\n\t\t)\r\n\t\treturn response.data\r\n\t},\r\n\tasync logout() {\r\n\t\tconst response = await instance.delete(`auth/login`)\r\n\t\treturn response.data\r\n\t}\r\n}\r\n","import { InferActionsTypes, BaseThunkType } from './reduxStore'\r\nimport { ResultCodesEnum, ResultCodeForCaptchaEnum } from './../api/api'\r\nimport { FormAction, stopSubmit } from 'redux-form'\r\nimport { securityAPI } from '../api/securityAPI'\r\nimport { authAPI } from '../api/authAPI'\r\n\r\nconst initialState = {\r\n\tid: null as number | null,\r\n\temail: null as string | null,\r\n\tlogin: null as string | null,\r\n\tisAuth: false,\r\n\tisFetching: false,\r\n\tcaptchaURL: null as string | null\r\n}\r\ntype InitialStateType = typeof initialState\r\nexport const actions = {\r\n\tsetAuthUserData: (id: number | null, email: string | null, login: string | null, isAuth: boolean) =>\r\n\t\t({ type: 'hotims-network/authReduser/SET_AUTH_USER_DATA', payload: { id, email, login, isAuth } } as const),\r\n\tgetCaptchaURLSuccess: (captchaURL: string) =>\r\n\t\t({ type: 'hotims-network/authReduser/GET_CAPTCHA_URL_SUCCESS', payload: { captchaURL } } as const)\r\n}\r\ntype ActionsTypes = InferActionsTypes<typeof actions>\r\nconst authReduser = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n\tswitch (action.type) {\r\n\t\tcase 'hotims-network/authReduser/GET_CAPTCHA_URL_SUCCESS':\r\n\t\tcase 'hotims-network/authReduser/SET_AUTH_USER_DATA': {\r\n\t\t\treturn { ...state, ...action.payload }\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\nexport const getAuthUserData = (): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await authAPI.getAuthUserData()\r\n\t\tif (data.resultCode === ResultCodesEnum.Success) {\r\n\t\t\tconst { id, email, login } = data.data\r\n\t\t\tdispatch(actions.setAuthUserData(id, email, login, true))\r\n\t\t}\r\n\t}\r\n}\r\nexport const login = (email: string | null, password: string | null, rememberMe: boolean, captcha: string | null): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await authAPI.login(email, password, rememberMe, captcha)\r\n\t\tif (data.resultCode === ResultCodesEnum.Success) {\r\n\t\t\tdispatch(getAuthUserData())\r\n\t\t} else {\r\n\t\t\tif (data.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\r\n\t\t\t\tdispatch(getCaptchaURL())\r\n\t\t\t}\r\n\t\t\tconst message = data.messages.length > 0 ? data.messages[0] : 'Some error'\r\n\t\t\tdispatch(stopSubmit('login', { _error: message }))\r\n\t\t}\r\n\t}\r\n}\r\nexport const getCaptchaURL = (): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await securityAPI.getCaptchaURL()\r\n\t\tconst captchaURL = data.url\r\n\t\tdispatch(actions.getCaptchaURLSuccess(captchaURL))\r\n\t}\r\n}\r\nexport const logout = (): ThunkType => {\r\n\treturn async (dispatch) => {\r\n\t\tconst data = await authAPI.logout()\r\n\t\tif (data.resultCode === 0) {\r\n\t\t\tdispatch(actions.setAuthUserData(null, null, null, false))\r\n\t\t}\r\n\t}\r\n}\r\nexport default authReduser\r\n"],"sourceRoot":""}