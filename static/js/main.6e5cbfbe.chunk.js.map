{"version":3,"sources":["components/Navbar/Navbar.module.css","redux/authReduser.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/appReduser.js","redux/sidebarReduser.js","redux/reduxStore.js","App.js","index.js","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","components/Header/Header.module.css","redux/profileReduser.js","redux/dialogsReduser.js","utils/helpers/objectHelper.js","redux/usersReduser.js","components/News/News.module.css","components/Music/Music.module.css","components/Settings/Settings.module.css","api/api.js"],"names":["module","exports","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","initialState","id","email","login","isAuth","isFetching","captchaURL","setAuthUserData","type","payload","getCaptchaURLSuccess","getAuthUserData","dispatch","a","authAPI","data","resultCode","password","rememberMe","captcha","getCaptchaURL","message","messages","length","stopSubmit","_error","securityAPI","url","logout","authReduser","state","action","Navbar","className","style","navbar","navItem","isActive","active","to","News","props","news_wrapper","Music","musik_wrapper","Settings","settings_wrapper","Header","header","src","alt","login_block","onClick","HeaderContainer","this","React","Component","connect","auth","INITIALIZED_SUCCESS","initialized","globalError","appReduser","sidebarReduser","reducers","combineReducers","profilePage","profileReduser","dialogsPage","dialogsReduser","sidebar","usersPage","usersReduser","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","ProfileContainer","lazy","DialogsContainer","UsersConatainer","Login","App","catchAllUnhandledErrors","reason","promise","console","log","initializeApp","addEventListener","removeEventListener","fallback","Preloader","path","element","AppContainer","Promise","all","then","MainApp","StrictMode","ReactDOM","render","document","getElementById","preloader","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","SAVE_PHOTO_SUCCESS","DELETE_POST","posts","likesCount","profile","status","addPostActionCreator","newPostText","setUserStatus","getUserProfile","userId","profileAPI","getUserStatus","getUpdateStatus","savePhoto","file","photos","saveProfile","getState","reject","newPost","filter","p","postId","SEND_MESSAGE","dialogs","name","sendMessageActionCreator","newMessageText","newMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","pageSize","totalUsersCount","currentPage","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","requestUsers","page","usersAPI","getUsers","totalCount","follow","getNewFollowedUser","bind","unfollow","getNewUnfollowedUser","followed","instance","axios","withCredentials","baseURL","headers","get","response","post","delete","put","formData","FormData","append"],"mappings":"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","file":"static/js/main.6e5cbfbe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__3sqT_\",\"active\":\"Navbar_active__2LOqB\"};","import { stopSubmit } from 'redux-form';\r\nimport { authAPI, securityAPI } from '../api/api';\r\n\r\nconst SET_USER_DATA = 'authReduser/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'authReduser/GET_CAPTCHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n    captchaURL: null\r\n};\r\n\r\nconst authReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => (\r\n    { type: SET_USER_DATA, payload: { id, email, login, isAuth } }\r\n);\r\n\r\nexport const getCaptchaURLSuccess = (captchaURL) => (\r\n    { type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaURL } }\r\n);\r\n\r\nexport const getAuthUserData = () => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.getAuthUserData();\r\n\r\n        if (data.resultCode === 0) {\r\n            let { id, email, login } = data.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    };\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(getAuthUserData());\r\n        } else {\r\n            if (data.resultCode === 10) {\r\n                dispatch(getCaptchaURL());\r\n            }\r\n\r\n            let message = data.messages.length > 0 ? data.messages[0] : 'Some error';\r\n            dispatch(stopSubmit('login', { _error: message }));\r\n        }\r\n    };\r\n};\r\n\r\nexport const getCaptchaURL = () => {\r\n    return async (dispatch) => {\r\n        let data = await securityAPI.getCaptchaURL();\r\n        const captchaURL = data.url;\r\n        dispatch(getCaptchaURLSuccess(captchaURL));\r\n    };\r\n};\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let data = await authAPI.logout();\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n    };\r\n};\r\n\r\nexport default authReduser;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={style.navbar}>\r\n            <div>\r\n                <NavLink className={navItem => navItem.isActive ? style.active : style.a} to='/profile'>Profile</NavLink>\r\n            </div>\r\n\r\n            <div>\r\n                <NavLink className={navItem => navItem.isActive ? style.active : style.a} to='/dialogs'>Messages</NavLink>\r\n            </div>\r\n\r\n            <div>\r\n                <NavLink className={navItem => navItem.isActive ? style.active : style.a} to='/users'>Users</NavLink>\r\n            </div>\r\n\r\n            <div>\r\n                <NavLink className={navItem => navItem.isActive ? style.active : style.a} to='/news'>News</NavLink>\r\n            </div>\r\n\r\n            <div>\r\n                <NavLink className={navItem => navItem.isActive ? style.active : style.a} to='/music'>Music</NavLink>\r\n            </div>\r\n\r\n            <div>\r\n                <NavLink className={navItem => navItem.isActive ? style.active : style.a} to='/settings'>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport style from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div className={style.news_wrapper}>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\nimport style from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div className={style.musik_wrapper}>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport style from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div className={style.settings_wrapper}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={style.header}>\r\n            <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Juventus_FC_2017_icon_%28black%29.svg/1200px-Juventus_FC_2017_icon_%28black%29.svg.png'\r\n                alt='Juventus logo' />\r\n\r\n            <div className={style.login_block}>{props.isAuth\r\n                ? <div>{props.login} <button onClick={props.logout}>Logout</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>\r\n            }</div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from '../../redux/authReduser';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import { getAuthUserData } from './authReduser';\r\n\r\nconst INITIALIZED_SUCCESS = 'appReduser/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n};\r\n\r\nconst appReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => (\r\n    { type: INITIALIZED_SUCCESS }\r\n);\r\n\r\nexport const initializeApp = () => {\r\n    return (dispatch) => {\r\n        let promise = dispatch(getAuthUserData());\r\n\r\n        Promise.all([promise]).then(() => {\r\n            dispatch(initializedSuccess());\r\n        });\r\n    };\r\n};\r\n\r\nexport default appReduser;","let initialState = {};\r\n\r\nconst sidebarReduser = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\nexport default sidebarReduser;","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport authReduser from './authReduser';\r\nimport dialogsReduser from './dialogsReduser';\r\nimport profileReduser from './profileReduser';\r\nimport sidebarReduser from './sidebarReduser';\r\nimport usersReduser from './usersReduser';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReduser from './appReduser';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReduser,\r\n    dialogsPage: dialogsReduser,\r\n    sidebar: sidebarReduser,\r\n    usersPage: usersReduser,\r\n    auth: authReduser,\r\n    form: formReducer,\r\n    app: appReduser\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, { Component, Suspense } from 'react';\r\nimport { Route, Routes, Navigate } from 'react-router';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp } from './redux/appReduser';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/reduxStore';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersConatainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst Login = React.lazy(() => import('./components/Login/Login'));\r\n\r\nclass App extends Component {\r\n    catchAllUnhandledErrors = (reason, promise) => {\r\n        console.log(`Some error occured: ${reason}, ${promise}`);\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer />\r\n                <Navbar />\r\n\r\n                <div className='app-wrapper-content'>\r\n                    <Suspense fallback={<Preloader />}>\r\n                        <Routes>\r\n                            <Route\r\n                                path='/profile'\r\n                                element={<ProfileContainer />}\r\n                            >\r\n                                <Route\r\n                                    path='/profile/:userId'\r\n                                    element={<ProfileContainer />}\r\n                                />\r\n                            </Route>\r\n\r\n                            <Route\r\n                                path='/dialogs'\r\n                                element={<DialogsContainer />}\r\n                            />\r\n\r\n                            <Route\r\n                                path='/users'\r\n                                element={<UsersConatainer />}\r\n                            />\r\n\r\n                            <Route\r\n                                path='/login'\r\n                                element={<Login />}\r\n                            />\r\n\r\n                            <Route path='/news' element={<News />} />\r\n                            <Route path='/music' element={<Music />} />\r\n                            <Route path='/settings' element={<Settings />} />\r\n                            <Route path='/' element={<Navigate to='/profile' />} />\r\n                            <Route path='/*' element={<div>404 NOT FOUND</div>} />\r\n                        </Routes>\r\n                    </Suspense>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({ initialized: state.app.initialized });\r\nconst AppContainer = connect(mapStateToProps, { initializeApp })(App);\r\n\r\nconst MainApp = (props) => {\r\n    return (\r\n        <React.StrictMode>\r\n            <HashRouter>\r\n                <Provider store={store}>\r\n                    <AppContainer />\r\n                </Provider>\r\n            </HashRouter>\r\n        </React.StrictMode>\r\n    );\r\n};\r\n\r\nexport default MainApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport MainApp from './App';\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'));","export default __webpack_public_path__ + \"static/media/preloader.86e365cf.svg\";","import React from 'react';\r\nimport preloader from './../../../assets/images/preloader.svg';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt='Preloader' />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1pQQx\",\"login_block\":\"Header_login_block__1RdIc\"};","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI } from '../api/api';\r\n\r\nconst ADD_POST = 'profileReduser/ADD-POST';\r\nconst SET_USER_PROFILE = 'profileReduser/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'profileReduser/SET_USER_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'profileReduser/SAVE_PHOTO_SUCCESS';\r\nconst DELETE_POST = 'profileReduser/DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: 'Hi! How are you?', likesCount: 20 },\r\n        { id: 2, message: 'It\\'s my first post', likesCount: 15 },\r\n        { id: 3, message: 'Forza Juve!', likesCount: 30 },\r\n        { id: 4, message: 'Nikolay is number 1!', likesCount: 35 }\r\n    ],\r\n\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                newPostText: '',\r\n                posts: [\r\n                    ...state.posts,\r\n                    newPost\r\n                ]\r\n            };\r\n        }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos }\r\n            };\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => (\r\n    { type: ADD_POST, newPostText }\r\n);\r\n\r\nexport const setUserProfile = (profile) => (\r\n    { type: SET_USER_PROFILE, profile }\r\n);\r\n\r\nexport const setUserStatus = (status) => (\r\n    { type: SET_USER_STATUS, status }\r\n);\r\n\r\nexport const savePhotoSuccess = (photos) => (\r\n    { type: SAVE_PHOTO_SUCCESS, photos }\r\n);\r\n\r\nexport const getUserProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getUserProfile(userId);\r\n\r\n        dispatch(setUserProfile(data));\r\n    };\r\n};\r\n\r\nexport const getUserStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getUserStatus(userId);\r\n\r\n        dispatch(setUserStatus(data));\r\n    };\r\n};\r\n\r\nexport const getUpdateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let data = await profileAPI.getUpdateStatus(status);\r\n\r\n            if (data.resultCode === 0) {\r\n                dispatch(setUserStatus(status));\r\n            }\r\n        } catch (error) {\r\n            console.log(error.message);\r\n        }\r\n    };\r\n};\r\n\r\nexport const savePhoto = (file) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.savePhoto(file);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(savePhotoSuccess(data.data.photos));\r\n        }\r\n    };\r\n};\r\n\r\nexport const saveProfile = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        let userId = getState().auth.id;\r\n        let data = await profileAPI.saveProfile(profile);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(getUserProfile(userId));\r\n        } else {\r\n            dispatch(stopSubmit('editProfile', { _error: data.messages[0] }));\r\n            return Promise.reject(data.messages[0]);\r\n        }\r\n    };\r\n};\r\n\r\nexport const deletePost = (postId) => (\r\n    { type: DELETE_POST, postId }\r\n);\r\n\r\nexport default profileReduser;","const SEND_MESSAGE = 'dialogsReduser/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Andrey' },\r\n        { id: 2, name: 'Denis' },\r\n        { id: 3, name: 'Katya' },\r\n        { id: 4, name: 'Mum' },\r\n        { id: 5, name: 'Dad' }\r\n    ],\r\n\r\n    messages: [\r\n        { id: 1, message: 'Hi!' },\r\n        { id: 2, message: 'How are you?' },\r\n        { id: 3, message: 'Yo!' },\r\n        { id: 4, message: 'Yo!' },\r\n        { id: 5, message: 'Yo!' }\r\n    ]\r\n};\r\n\r\nconst dialogsReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let newMessage = {\r\n                id: 6,\r\n                message: action.newMessageText\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n\r\n                messages: [\r\n                    ...state.messages,\r\n                    newMessage\r\n                ]\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessageActionCreator = (newMessageText) => (\r\n    { type: SEND_MESSAGE, newMessageText }\r\n);\r\n\r\nexport default dialogsReduser;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjProps }\r\n        }\r\n\r\n        return u;\r\n    });\r\n};","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/helpers/objectHelper';\r\n\r\nconst FOLLOW = 'usersReduser/FOLLOW';\r\nconst UNFOLLOW = 'usersReduser/UNFOLLOW';\r\nconst SET_USERS = 'usersReduser/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'usersReduser/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'usersReduser/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'usersReduser/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'usersReduser/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReduser = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', { followed: true })\r\n            };\r\n        }\r\n\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', { followed: false })\r\n            };\r\n        }\r\n\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users };\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage };\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.totalUsersCount };\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching };\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingProgress(true, userId));\r\n\r\n    let data = await apiMethod(userId);\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n\r\n    dispatch(toggleIsFollowingProgress(false, userId));\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    };\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.getNewFollowedUser.bind(userId), followSuccess);\r\n    };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.getNewUnfollowedUser.bind(userId), unfollowSuccess);\r\n    };\r\n};\r\n\r\nexport default usersReduser;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news_wrapper\":\"News_news_wrapper__11D97\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musik_wrapper\":\"Music_musik_wrapper__2BH_w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings_wrapper\":\"Settings_settings_wrapper__247SQ\"};","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\r\n    headers: {\r\n        'API-KEY': '7d7c0cc8-9365-47ef-8d77-ea42e5daa598'\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(\r\n            `users?page=${currentPage}&count=${pageSize}`\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    getNewFollowedUser(userId) {\r\n        return instance.post(\r\n            `follow/${userId}`,\r\n            {}\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    getNewUnfollowedUser(userId) {\r\n        return instance.delete(\r\n            `follow/${userId}`\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuthUserData() {\r\n        return instance.get(\r\n            `auth/me`\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(\r\n            `auth/login`,\r\n            { email, password, rememberMe, captcha }\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(\r\n            `auth/login`\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return instance.get(\r\n            `security/get-captcha-url`\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return instance.get(\r\n            `profile/${userId}`\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    getUserStatus(userId) {\r\n        return instance.get(\r\n            `profile/status/${userId}`\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    getUpdateStatus(status) {\r\n        return instance.put(\r\n            `profile/status`,\r\n            { status: status }\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    savePhoto(file) {\r\n        const formData = new FormData();\r\n        formData.append('image', file);\r\n\r\n        return instance.put(\r\n            `profile/photo`,\r\n            formData,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data'\r\n                }\r\n            }\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return instance.put(\r\n            `profile`, profile\r\n        ).then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n};"],"sourceRoot":""}