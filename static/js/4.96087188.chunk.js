(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{405:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__3lhQt",users_wrapper:"Users_users_wrapper__36uex",user:"Users_user__1MBBk",title:"Users_title__bybcT"}},409:function(e,t,n){e.exports={paginator:"Paginator_paginator__ootZt",pageNumber:"Paginator_pageNumber__YyK91",selectedPage:"Paginator_selectedPage__13AUn"}},419:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersPage",(function(){return E}));var r=n(405),c=n.n(r),i=n(34),s=n(107),a=n(417),o=Object(a.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),u=function(e){return e.usersPage.pageSize},l=function(e){return e.usersPage.currentPage},j=function(e){return e.usersPage.filter},b=function(e){return e.usersPage.totalUsersCount},d=function(e){return e.usersPage.isFetching},f=function(e){return e.usersPage.followingInProgress},O=n(0),g=n(4),m=n(1),p=n(2),h=n(409),x=n.n(h),v=n(5),P=n.n(v),_=n(3),w=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=e.currentPage,c=void 0===r?1:r,i=e.onPageChanged,s=void 0===i?function(){}:i,a=e.portionSize,o=void 0===a?20:a,u=Math.ceil(t/n),l=[],j=Math.ceil(u/o),b=Object(O.useState)(1),d=Object(p.a)(b,2),f=d[0],g=d[1],h=(f-1)*o+1,v=f*o,w=1;w<=u;w++)l.push(w);return Object(_.jsxs)("div",{className:x.a.paginator,children:[f>1&&Object(_.jsx)("button",{onClick:function(){g(f-1)},children:"PREV"}),l.filter((function(e){return e>=h&&e<=v})).map((function(e){return Object(_.jsx)("span",{className:P()(Object(m.a)({},x.a.selectedPage,c===e),x.a.pageNumber),onClick:function(){s(e)},children:e},e)})),j>f&&Object(_.jsx)("button",{onClick:function(){g(f+1)},children:"NEXT"})]})},y=n(202),C=n(57),k=Object(O.memo)((function(e){var t=e.user,n=e.followingInProgress,r=e.follow,i=e.unfollow;return Object(_.jsxs)("div",{className:c.a.user,children:[Object(_.jsxs)("span",{children:[Object(_.jsx)("div",{children:Object(_.jsx)(C.b,{to:"/profile/".concat(t.id),children:Object(_.jsx)("img",{src:null!==t.photos.small?t.photos.small:y.a,alt:"My super avatar",className:c.a.userPhoto})})}),Object(_.jsx)("div",{children:t.followed?Object(_.jsx)("button",{type:"submit",disabled:n.some((function(e){return e===t.id})),onClick:function(){return i(t.id)},children:"Unfollow"}):Object(_.jsx)("button",{type:"submit",disabled:n.some((function(e){return e===t.id})),onClick:function(){return r(t.id)},children:"Follow"})})]}),Object(_.jsxs)("span",{children:[Object(_.jsxs)("span",{children:[Object(_.jsx)("div",{children:t.name}),Object(_.jsx)("div",{children:t.status})]}),Object(_.jsxs)("span",{children:[Object(_.jsx)("div",{children:"user.location.city"}),Object(_.jsx)("div",{children:"user.location.country"})]})]})]})})),N=n(416),S=Object(O.memo)((function(e){var t=e.onFilterChanged,n=Object(i.d)(j);return Object(_.jsx)("div",{children:Object(_.jsx)(N.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},onSubmit:function(e,n){var r=n.setSubmitting,c={term:e.term,friend:"true"===e.friend||"false"!==e.friend&&null};t(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(_.jsxs)(N.b,{children:[Object(_.jsx)(N.a,{type:"text",name:"term"}),Object(_.jsxs)(N.a,{as:"select",name:"friend",children:[Object(_.jsx)("option",{value:"null",children:"All"}),Object(_.jsx)("option",{value:"true",children:"Followed"}),Object(_.jsx)("option",{value:"false",children:"Unfollowed"})]}),Object(_.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),U=n(214),F=n(8),z=n(413),I=Object(O.memo)((function(){var e=Object(i.d)(b),t=Object(i.d)(l),n=Object(i.d)(u),r=Object(i.d)(o),s=Object(i.d)(j),a=Object(i.d)(f),d=Object(i.c)(),m=Object(F.m)(),p=Object(F.k)(),h=function(e){d(Object(U.b)(e))},x=function(e){d(Object(U.d)(e))};return Object(O.useEffect)((function(){var e=z.parse(p.search.substring(1)),r=t,c=s;switch(e.page&&(r=Number(e.page)),e.term&&(c=Object(g.a)(Object(g.a)({},c),{},{term:e.term})),e.friend){case"null":c=Object(g.a)(Object(g.a)({},c),{},{friend:null});break;case"true":c=Object(g.a)(Object(g.a)({},c),{},{friend:!0});break;case"false":c=Object(g.a)(Object(g.a)({},c),{},{friend:!1})}d(Object(U.c)(r,n,c))}),[]),Object(O.useEffect)((function(){var e={};s.term&&(e.term=s.term),null!==s.friend&&(e.friend=String(s.friend)),1!==t&&(e.page=String(t)),m({pathname:"/users",search:z.stringify(e)})}),[m,s,t]),Object(_.jsxs)("div",{className:c.a.users_wrapper,children:[Object(_.jsx)(S,{onFilterChanged:function(e){d(Object(U.c)(1,n,e))}}),Object(_.jsx)(w,{totalItemsCount:e,pageSize:n,currentPage:t,onPageChanged:function(e){d(Object(U.c)(e,n,s))}}),r.map((function(e){return Object(_.jsx)(k,{user:e,followingInProgress:a,follow:h,unfollow:x},e.id)}))]})})),E=Object(O.memo)((function(e){var t=e.pageTitle,n=Object(i.d)(d);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{className:c.a.title,children:t}),n?Object(_.jsx)(s.a,{}):null,Object(_.jsx)(I,{})]})}))}}]);
//# sourceMappingURL=4.96087188.chunk.js.map